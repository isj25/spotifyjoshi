{"ast":null,"code":"var _jsxFileName = \"/Users/ishwarjoshi/Ishwar Joshi/React Js/indivillage/frontend/src/Screens/Recommendation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Block from '../components/Block';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Recommendation = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const token = JSON.parse(sessionStorage.getItem('token'));\n  useEffect(() => {\n    if (token === null) {\n      navigate(\"/login\");\n    }\n  }, [token, navigate]);\n  const genre = localStorage.getItem('genre') || 'country';\n  const seed_artists = localStorage.getItem('seed_artists') || '1wRPtKGflJrBx9BmLsSwlU';\n  const seed_tracks = localStorage.getItem('seed_tracks') || '6VBhH7CyP56BXjp8VsDFPZ';\n  const [fetched, setFetched] = useState(false);\n  const [data, setData] = useState('');\n\n  async function fetch() {\n    const URL = `/recommendation/g:${genre}/a:${seed_artists}/t:${seed_tracks}`;\n    const respdata = await axios.get(URL, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n    setFetched(true);\n    setData(respdata);\n  }\n\n  if (!fetched) {\n    fetch();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      href: \"/\",\n      variant: \"warning\",\n      className: \"mx-3 my-3\",\n      children: \"Go Back \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      href: \"/playlist\",\n      variant: \"warning\",\n      className: \"mx-3 my-3\",\n      children: \"Your Playlist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this), fetched ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Artists\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"rec-row\",\n        children: data.data.tracks.map((item, index) => {\n          //console.log(item)\n          return /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Block, {\n              name: item.artists[0].name,\n              description: item.artists[0].type,\n              id: item.artists[0].id,\n              type: \"artists\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 26\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Albums\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"rec-row\",\n        children: data.data.tracks.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            className: \"col-md-3\",\n            children: /*#__PURE__*/_jsxDEV(Block, {\n              image: item.album.images[0].url,\n              name: item.album.name,\n              description: item.album.type,\n              id: item.album.id,\n              type: item.album.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 23\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 24\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 20\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Recommendation, \"SyPTgxHLDeujhUk/TO75D5dtSFw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Recommendation;\nexport default Recommendation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Recommendation\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Block","Row","Col","Button","Recommendation","navigate","token","JSON","parse","sessionStorage","getItem","genre","localStorage","seed_artists","seed_tracks","fetched","setFetched","data","setData","fetch","URL","respdata","get","headers","Authorization","tracks","map","item","index","artists","name","type","id","album","images","url"],"sources":["/Users/ishwarjoshi/Ishwar Joshi/React Js/indivillage/frontend/src/Screens/Recommendation.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios'\nimport Block from '../components/Block';\nimport {Row,Col,Button} from 'react-bootstrap'\n\nconst Recommendation = () => {\n\n  const navigate = useNavigate();\n  const token = JSON.parse(sessionStorage.getItem('token'))\n  useEffect(() => {\n    if (token === null) {\n      navigate(\"/login\");\n    }\n  }, [token, navigate]);\n\n  const genre = localStorage.getItem('genre') || 'country'\n  const seed_artists = localStorage.getItem('seed_artists') || '1wRPtKGflJrBx9BmLsSwlU'\n  const seed_tracks = localStorage.getItem('seed_tracks') || '6VBhH7CyP56BXjp8VsDFPZ'\n\n\n  const [ fetched,setFetched] = useState(false);\n  const [data,setData] = useState('')\n\n  async function fetch()\n  {\n   \n    const URL = `/recommendation/g:${genre}/a:${seed_artists}/t:${seed_tracks}`\n    const respdata  = await axios.get(URL,{headers:{\n      'Content-Type':'application/json',\n      Authorization : `Bearer ${token}`\n    }})\n\n    \n    setFetched(true)\n    setData(respdata)\n  }\n\n\n  if(!fetched)\n  {\n    fetch()\n  }\n\n\n\n  return (\n    <div>\n    <Button href='/' variant=\"warning\" className=\"mx-3 my-3\">Go Back </Button>\n    <Button href='/playlist' variant=\"warning\" className=\"mx-3 my-3\">Your Playlist</Button>\n        {\n          fetched?(<div>\n            \n            <Row>\n              <h2>Artists</h2>\n            </Row>\n            <Row className='rec-row'>\n            \n              {\n\n                data.data.tracks.map((item,index)=>{\n\n                    //console.log(item)\n                  return <Col key={index}>\n                    <Block name={item.artists[0].name} description={item.artists[0].type} id={item.artists[0].id} type='artists'>\n                    \n                    </Block>\n                       \n                  </Col>\n  \n                })\n\n\n              }\n            \n            </Row>\n\n\n            <h2>Albums</h2>\n            <Row className='rec-row'>\n            {\n              \n              data.data.tracks.map((item,index)=>{\n\n\n                return <Col key={index} className='col-md-3'>\n              \n                      \n                      <Block image={item.album.images[0].url} name={item.album.name} description={item.album.type} id={item.album.id} type={item.album.type}></Block>\n                      \n                </Col>\n\n              })\n\n            }\n            </Row>\n            </div>):''\n        }\n    </div>\n  )\n}\n\nexport default Recommendation\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}