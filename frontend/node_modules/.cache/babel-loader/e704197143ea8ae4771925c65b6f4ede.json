{"ast":null,"code":"var _jsxFileName = \"/Users/ishwarjoshi/Ishwar Joshi/React Js/indivillage/frontend/src/Screens/Artist.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Button, Row, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Block from \"../components/Block\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Artist = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const token = JSON.parse(sessionStorage.getItem('token'));\n  useEffect(() => {\n    if (token === null) {\n      navigate(\"/login\");\n    }\n  }, [token, navigate]);\n  let {\n    name\n  } = useParams();\n  name = name.substring(1);\n  const [albums, setAlbums] = useState(\"\");\n  const [dataFetched, setDataFetched] = useState(false);\n  console.log(albums);\n\n  async function fetchAlbums() {\n    const data = await axios.get(`/artist:${name}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    });\n    setAlbums(data);\n  }\n\n  if (albums === \"\") {\n    fetchAlbums();\n  }\n\n  useEffect(() => {\n    if (dataFetched === false) {\n      if (albums !== \"\") {\n        setDataFetched(true);\n      }\n    }\n  }, [dataFetched, albums]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"types\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      href: \"/\",\n      variant: \"warning\",\n      children: [\"Go Back\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      href: \"/playlist\",\n      variant: \"warning\",\n      className: \"mx-3\",\n      children: \"Your Playlist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Artists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), dataFetched ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: albums.data.artists.items.map((item, index) => {\n          if (item.images[0]) {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              className: \"col-md-3\",\n              children: /*#__PURE__*/_jsxDEV(Block, {\n                name: item.name,\n                image: item.images[0].url,\n                description: item.type,\n                id: item.id,\n                type: \"artists\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this);\n          } else {\n            return '';\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Artist, \"9ZmEThAmRJ8268omhtUKY1gxo1g=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = Artist;\nexport default Artist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Artist\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Button","Row","Col","axios","Block","Artist","navigate","token","JSON","parse","sessionStorage","getItem","name","substring","albums","setAlbums","dataFetched","setDataFetched","console","log","fetchAlbums","data","get","headers","Authorization","artists","items","map","item","index","images","url","type","id"],"sources":["/Users/ishwarjoshi/Ishwar Joshi/React Js/indivillage/frontend/src/Screens/Artist.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Button, Row, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Block from \"../components/Block\";\nconst Artist = () => {\n  const navigate = useNavigate();\n  const token = JSON.parse(sessionStorage.getItem('token'))\n  useEffect(() => {\n    if (token === null) {\n      navigate(\"/login\");\n    }\n  }, [token, navigate]);\n\n  let { name } = useParams();\n  name = name.substring(1);\n\n  const [albums, setAlbums] = useState(\"\");\n  const [dataFetched, setDataFetched] = useState(false);\n  console.log(albums);\n\n  async function fetchAlbums() {\n    const data = await axios.get(`/artist:${name}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    setAlbums(data);\n  }\n\n  if (albums === \"\") {\n    fetchAlbums();\n  }\n\n  useEffect(() => {\n    if (dataFetched === false) {\n      if (albums !== \"\") {\n        setDataFetched(true);\n      }\n    }\n  }, [dataFetched, albums]);\n\n  return (\n    <div className=\"types\">\n      <Button href=\"/\" variant=\"warning\">\n        Go Back{\" \"}\n      </Button>\n      <Button href='/playlist' variant=\"warning\" className=\"mx-3\">Your Playlist</Button>\n      <h2>Artists</h2>\n      {dataFetched ? (\n        <div>\n          <Row>\n            {albums.data.artists.items.map((item, index) => {\n              if (item.images[0]) {\n                return (\n                  <Col className=\"col-md-3\" key={index}>\n                    <Block\n                      name={item.name}\n                      image={item.images[0].url}\n                      description={item.type}\n                      id={item.id}\n                      type='artists'\n                    ></Block>\n                  </Col>\n                );\n              }else\n              {\n                return ''\n              }\n            })}\n          </Row>\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport default Artist;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,GAAtB,QAAiC,iBAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;;AACA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;EACA,MAAMS,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAX,CAAd;EACAf,SAAS,CAAC,MAAM;IACd,IAAIW,KAAK,KAAK,IAAd,EAAoB;MAClBD,QAAQ,CAAC,QAAD,CAAR;IACD;EACF,CAJQ,EAIN,CAACC,KAAD,EAAQD,QAAR,CAJM,CAAT;EAMA,IAAI;IAAEM;EAAF,IAAWb,SAAS,EAAxB;EACAa,IAAI,GAAGA,IAAI,CAACC,SAAL,CAAe,CAAf,CAAP;EAEA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACmB,WAAD,EAAcC,cAAd,IAAgCpB,QAAQ,CAAC,KAAD,CAA9C;EACAqB,OAAO,CAACC,GAAR,CAAYL,MAAZ;;EAEA,eAAeM,WAAf,GAA6B;IAC3B,MAAMC,IAAI,GAAG,MAAMlB,KAAK,CAACmB,GAAN,CAAW,WAAUV,IAAK,EAA1B,EAA6B;MAC9CW,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAG,UAASjB,KAAM;MAFxB;IADqC,CAA7B,CAAnB;IAOAQ,SAAS,CAACM,IAAD,CAAT;EACD;;EAED,IAAIP,MAAM,KAAK,EAAf,EAAmB;IACjBM,WAAW;EACZ;;EAEDxB,SAAS,CAAC,MAAM;IACd,IAAIoB,WAAW,KAAK,KAApB,EAA2B;MACzB,IAAIF,MAAM,KAAK,EAAf,EAAmB;QACjBG,cAAc,CAAC,IAAD,CAAd;MACD;IACF;EACF,CANQ,EAMN,CAACD,WAAD,EAAcF,MAAd,CANM,CAAT;EAQA,oBACE;IAAK,SAAS,EAAC,OAAf;IAAA,wBACE,QAAC,MAAD;MAAQ,IAAI,EAAC,GAAb;MAAiB,OAAO,EAAC,SAAzB;MAAA,sBACU,GADV;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAIE,QAAC,MAAD;MAAQ,IAAI,EAAC,WAAb;MAAyB,OAAO,EAAC,SAAjC;MAA2C,SAAS,EAAC,MAArD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eAKE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALF,EAMGE,WAAW,gBACV;MAAA,uBACE,QAAC,GAAD;QAAA,UACGF,MAAM,CAACO,IAAP,CAAYI,OAAZ,CAAoBC,KAApB,CAA0BC,GAA1B,CAA8B,CAACC,IAAD,EAAOC,KAAP,KAAiB;UAC9C,IAAID,IAAI,CAACE,MAAL,CAAY,CAAZ,CAAJ,EAAoB;YAClB,oBACE,QAAC,GAAD;cAAK,SAAS,EAAC,UAAf;cAAA,uBACE,QAAC,KAAD;gBACE,IAAI,EAAEF,IAAI,CAAChB,IADb;gBAEE,KAAK,EAAEgB,IAAI,CAACE,MAAL,CAAY,CAAZ,EAAeC,GAFxB;gBAGE,WAAW,EAAEH,IAAI,CAACI,IAHpB;gBAIE,EAAE,EAAEJ,IAAI,CAACK,EAJX;gBAKE,IAAI,EAAC;cALP;gBAAA;gBAAA;gBAAA;cAAA;YADF,GAA+BJ,KAA/B;cAAA;cAAA;cAAA;YAAA,QADF;UAWD,CAZD,MAaA;YACE,OAAO,EAAP;UACD;QACF,CAjBA;MADH;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADU,GAwBV,EA9BJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAmCD,CA1ED;;GAAMxB,M;UACaP,W,EAQFC,S;;;KATXM,M;AA4EN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}